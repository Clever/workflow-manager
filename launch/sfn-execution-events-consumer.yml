run:
  type: lambda
  architecture: arm64
resources:
  max_mem: 0.1
shepherds:
- rafael.garcia@clever.com
team: eng-infra
deploy_config:
  autoDeployEnvs:
  - production
  - clever-dev
env:
- KINESIS_STREAM_ARN
lambda:
  Timeout: 10 # seconds
  NoVPC: true # if the lambda depends on internal services, set this to false
  # MaxConcurrent: 10 # maximum concurrent lambda executions
  Events:
    SFNEvents:
      Type: Kinesis
      Properties:
        Stream: ${KINESIS_STREAM_ARN}
        StartingPosition: LATEST
        BatchSize: 100
pod_config:
  group: us-west-1